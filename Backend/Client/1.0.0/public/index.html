<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form>
    <input type="submit" value="Resume" />
    <input id="STOP" type="button" value="Stop Timer" />
</form>
<div id="root"></div>
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
<script>
    var socket = io();
    $('form').submit(function() {
        var msgObject = {
            x: 0,
            y: 0,
            orientation: 0,
            timestamp: new Date().getMilliseconds(),
            estimoteLocationId: 'BlaBla',
            playerId: '565d6fe29b971a0d10f9a5e7',
            teamId: 'teamId2',
            gameId: 'gameId3'
        };
        socket.emit('position', msgObject);
        return false;
    });

    var tmr = setInterval(
        function(){
            var msgObject = {
                x : Math.random() * 1200,
                y : Math.random() * 600,
                orientation : 0,
                timestamp : new Date().getMilliseconds(),
                estimoteLocationId : 'BlaBla',
                playerId : '565d6fe29b971a0d10f9a5e7',
                teamId : 'teamId2',
                gameId : 'gameId3'
            };
            //var msg = JSON.stringify(msgObject);
            socket.emit('position', msgObject)
        }, 100
    );
            //socket.emit('position', msg);
    
    $('#STOP').click(function() {
        console.log('clicked');
        clearInterval(tmr);
    });

    socket.on('565d6fe29b971a0d10f9a5e7', function(msg){
        $('#root').append($('<li>').text(JSON.stringify(msg)));
    });
</script>
</body>
</html>